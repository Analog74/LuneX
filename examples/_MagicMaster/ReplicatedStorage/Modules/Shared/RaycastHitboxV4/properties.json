{
  "Attributes": {},
  "Capabilities": "<FAILED: Unsupported variant type: Discriminant(37) (property: Capabilities, class: ModuleScript, instance: RaycastHitboxV4)>",
  "HistoryId": "<FAILED: Unsupported variant type: Discriminant(35) (property: HistoryId, class: ModuleScript, instance: RaycastHitboxV4)>",
  "LinkedSource": "<FAILED: Unsupported variant type: Discriminant(8) (property: LinkedSource, class: ModuleScript, instance: RaycastHitboxV4)>",
  "Sandboxed": false,
  "ScriptGuid": "{B0C76233-C66A-4BC6-A94F-C8CAA2120083}",
  "Source": "--!strict\n--- Main RaycastModuleV4 2021\n-- @author Swordphin123\n\n--[[\n____________________________________________________________________________________________________________________________________________________________________________\n\n\tIf you have any questions, feel free to message me on DevForum. Credits not neccessary but is appreciated.\n\t\n\t[ How To Use - Quick Start Guide ]\n\t\n\t\t1. Insert Attachments to places where you want your \"hitbox\" to be. For swords, I like to have attachments 1 stud apart and strung along the blade.\n\t\t2. Name those Attachments \"DmgPoint\" (so the script knows). You can configure what name the script will look for in the variables below.\n\t\t3. Open up a script. As an example, maybe we have a sword welded to the character or as a tool. Require this, and initialize:\n\t\t\t\t\n\t\t\t\t* Example Code\n\t\t\t\t\t\n\t\t\t\t\tlocal Damage = 10\n\t\t\t\t\tlocal Hitbox = RaycastHitbox.new(Character)\n\t\t\t\t\t\n\t\t\t\t\tHitbox.OnHit:Connect(function(hit, humanoid)\n\t\t\t\t\t\tprint(hit.Name)\n\t\t\t\t\t\thumanoid:TakeDamage(Damage)\n\t\t\t\t\tend)\n\t\t\t\t\t\n\t\t\t\t\tHitbox:HitStart() --- Turns on the hitbox\n\t\t\t\t\twait(10) --- Waits 10 seconds\n\t\t\t\t\tHitbox:HitStop() --- Turns off the hitbox\n\t\t\n\t\t4. Profit. Refer to the API below for more information.\n\t\t\t\t\n\n____________________________________________________________________________________________________________________________________________________________________________\n\n\t[ RaycastHitBox API ]\n\n\t\t* local RaycastHitbox = require(RaycastHitboxV4) ---Duh\n\t\t\t\t--- To use, insert this at the top of your scripts or wherever.\n\n\n\t\t\t[ FUNCTIONS ]\n\n\t\t* RaycastHitbox.new(Instance model | BasePart | nil)\n\t\t\t\tDescription\n\t\t\t\t\t--- Preps the model and recursively finds attachments in it so it knows where to shoot rays out of later. If a hitbox exists for this\n\t\t\t\t\t--- object already, it simply returns the same hitbox.\n\t\t\t\tArguments\n\t\t\t\t\t--- Instance:  (Like your character, a sword model, etc). Can be left nil in case you want an empty Hitbox or use SetPoints later\n\t\t\t\tReturns\n\t\t\t\t\tInstance HitboxObject\n\t\t\t\t\t\t\n\t\t* RaycastHitModule:GetHitbox(Instance model)\n\t\t\t\tDescription\n\t\t\t\t\t--- Gets the HitboxObject if it exists.\n\t\t\t\tReturns\n\t\t\t\t\t--- HitboxObject if found, else nil\n\t\t\t\t\t\n\t\t\n\t\t\n\t\t* HitboxObject:SetPoints(Instance BasePart | Bone, table vectorPoints, string group)\n\t\t\t\tDescription\n\t\t\t\t\t--- Merges existing Hitbox points with new Vector3 values relative to a part/bone position. This part can be a descendent of your original Hitbox model or\n\t\t\t\t\t\tcan be an entirely different instance that is not related to the hitbox (example: Have a weapon with attachments and you can then add in more vector3\n\t\t\t\t\t\tpoints without instancing new attachments, great for dynamic hitboxes)\n\t\t\t\tArguments\n\t\t\t\t\t--- Instance BasePart | Bone: Sets the part/bone that these vectorPoints will move in relation to the part's origin using Vector3ToWorldSpace\n\t\t\t\t\t--- table vectorPoints: Table of vector3 values.\n\t\t\t\t\t--- string group: optional group parameter\n\t\t\t\t\t\n\t\t* HitboxObject:RemovePoints(Instance BasePart | Bone, table vectorPoints)\n\t\t\t\tDescription\n\t\t\t\t\t--- Remove given Vector3 values provided the part was the same as the ones you set in SetPoints\n\t\t\t\tArguments\n\t\t\t\t\t--- Instance BasePart | Bone: Sets the part that these vectorPoints will be removed from in relation to the part's origin using Vector3ToWorldSpace\n\t\t\t\t\t--- table vectorPoints: Table of vector3 values.\n\t\t\n\t\t* HitboxObject:LinkAttachments(Instance attachment1, Instance attachment2)\n\t\t\t\tDescription\n\t\t\t\t\t--- Set two attachments to be in a link. The Raycast module will raycast between these two points.\n\t\t\t\tArguments\n\t\t\t\t\t--- Instance attachment1/attachment2: Attachment objects\n\t\t\t\t\t\n\t\t* HitboxObject:UnlinkAttachments(Instance attachment1)\n\t\t\t\tDescription\n\t\t\t\t\t--- Removes the link of an attachment. Only needs the primary attachment (argument 1 of LinkAttachments) to work. Will automatically sever the connection\n\t\t\t\t\t\tto the second attachment.\n\t\t\t\tArguments\n\t\t\t\t\t--- Instance attachment1: Attachment object\n\t\t\t\t\n\t\t* HitboxObject:HitStart(seconds)\n\t\t\t\tDescription\n\t\t\t\t\t--- Starts drawing the rays. Will only damage the target once. Call HitStop to reset the target pool so you can damage the same targets again.\n\t\t\t\t\t\tIf HitStart hits a target(s), OnHit event will be called.\n\t\t\t\tArguments\n\t\t\t\t\t--- number seconds: Optional numerical value, the hitbox will automatically turn off after this amount of time has elapsed\n\t\t\t\t\t\n\t\t* HitboxObject:HitStop()\n\t\t\t\tDescription\n\t\t\t\t\t--- Stops drawing the rays and resets the target pool. Will do nothing if no rays are being drawn from the initialized model.\n\n\t\t* HitboxObject.OnHit:Connect(returns: Instance part, returns: Instance humanoid, returns: RaycastResults, returns: String group)\n\t\t\t\tDescription\n\t\t\t\t\t--- If HitStart hits a fresh new target, OnHit returns information about the hit target\n\t\t\t\tArguments\n\t\t\t\t\t--- Instance part: Returns the part that the rays hit first\n\t\t\t\t\t--- Instance humanoid: Returns the Humanoid object \n\t\t\t\t\t--- RaycastResults RaycastResults: Returns information about the last raycast results\n\t\t\t\t\t--- String group: Returns information on the hitbox's group\n\t\t\t\t\t\n\t\t* HitboxObject.OnUpdate:Connect(returns: Vector3 position)\n\t\t\t\tDescription\n\t\t\t\t\t--- This fires every frame, for every point, returning a Vector3 value of its last position in space. Do not use expensive operations in this function.\n\t\t\n\n\t\t\t[ PROPERTIES ]\n\n\t\t* HitboxObject.RaycastParams: RaycastParams\n\t\t\t\tDescription\n\t\t\t\t\t--- Takes in a RaycastParams object\n\n\t\t* HitboxObject.Visualizer: boolean\n\t\t\t\tDescription\n\t\t\t\t\t--- Turns on or off the debug rays for this hitbox\n\n\t\t* HitboxObject.DebugLog: boolean\n\t\t\t\tDescription\n\t\t\t\t\t--- Turns on or off output writing for this hitbox\n\n\t\t* HitboxObject.DetectionMode: number [1 - 3]\n\t\t\t\tDescription\n\t\t\t\t\t--- Defaults to 1. Refer to DetectionMode subsection below for more information\n\n\t\t\t\n\t\t\t[ DETECTION MODES ]\n\n\t\t* RaycastHitbox.DetectionMode.Default\n\t\t\t\tDescription\n\t\t\t\t\t--- Checks if a humanoid exists when this hitbox touches a part. The hitbox will not return humanoids it has already hit for the duration\n\t\t\t\t\t--- the hitbox has been active.\n\n\t\t* RaycastHitbox.DetectionMode.PartMode\n\t\t\t\tDescription\n\t\t\t\t\t--- OnHit will return every hit part (in respect to the hitbox's RaycastParams), regardless if it's ascendant has a humanoid or not.\n\t\t\t\t\t--- OnHit will no longer return a humanoid so you will have to check it. The hitbox will not return parts it has already hit for the\n\t\t\t\t\t--- duration the hitbox has been active.\n\n\t\t* RaycastHitbox.DetectionMode.Bypass\n\t\t\t\tDescription\n\t\t\t\t\t--- PERFORMANCE MAY SUFFER IF THERE ARE A LOT OF PARTS. Use only if necessary.\n\t\t\t\t\t--- Similar to PartMode, the hitbox will return every hit part. Except, it will keep returning parts even if it has already hit them.\n\t\t\t\t\t--- Warning: If you have multiple raycast or attachment points, each raycast will also call OnHit. Allows you to create your own\n\t\t\t\t\t--- filter system.\n\t\t\n____________________________________________________________________________________________________________________________________________________________________________\n\n--]]\n\n-- Show where the red lines are going. You can change their colour and width in VisualizerCache\nlocal SHOW_DEBUG_RAY_LINES: boolean = false\n\n-- Allow RaycastModule to write to the output\nlocal SHOW_OUTPUT_MESSAGES: boolean = false\n\n-- The tag name. Used for cleanup.\nlocal DEFAULT_COLLECTION_TAG_NAME: string = \"_RaycastHitboxV4Managed\"\n\n--- Initialize required modules\nlocal CollectionService: CollectionService = game:GetService(\"CollectionService\")\nlocal HitboxData = require(script.HitboxCaster)\nlocal Signal = require(script.GoodSignal)\n\nlocal RaycastHitbox = {}\nRaycastHitbox.__index = RaycastHitbox\nRaycastHitbox.__type = \"RaycastHitboxModule\"\n\n-- Detection mode enums\nRaycastHitbox.DetectionMode = {\n\tDefault = 1,\n\tPartMode = 2,\n\tBypass = 3,\n}\n\n-- Signal Type enums\nRaycastHitbox.SignalType = {\n\tDefault = 1,\n\tSingle = 2, --- Defaults to Single connections only for legacy purposes\n}\n\n-- Signal mode enums\n\n\n--- Creates or finds a hitbox object. Returns an hitbox object\n-- @param required object parameter that takes in either a part or a model\nfunction RaycastHitbox.new(object: any?)\n\tlocal hitbox: any\n\n\tif object and CollectionService:HasTag(object, DEFAULT_COLLECTION_TAG_NAME) then\n\t\thitbox = HitboxData:_FindHitbox(object)\n\telse\n\t\thitbox = setmetatable({\n\t\t\tRaycastParams = nil,\n\t\t\tDetectionMode = RaycastHitbox.DetectionMode.Default,\n\t\t\tHitboxRaycastPoints = {},\n\t\t\tHitboxPendingRemoval = false,\n\t\t\tHitboxStopTime = 0,\n\t\t\tHitboxObject = object,\n\t\t\tHitboxHitList = {},\n\t\t\tHitboxActive = false,\n\t\t\tVisualizer = SHOW_DEBUG_RAY_LINES,\n\t\t\tDebugLog = SHOW_OUTPUT_MESSAGES,\n\t\t\tSignalType = RaycastHitbox.SignalType.Single,\n\t\t\tOnUpdate = Signal.new(RaycastHitbox.SignalType.Single),\n\t\t\tOnHit = Signal.new(RaycastHitbox.SignalType.Single),\n\t\t\tTag = DEFAULT_COLLECTION_TAG_NAME,\n\t\t}, HitboxData)\n\n\t\thitbox:_Init()\n\tend\n\n\treturn hitbox\nend\n\n--- Finds a hitbox object if valid, else return nil\n-- @param Object instance\nfunction RaycastHitbox:GetHitbox(object: any?)\n\tif object then\n\t\treturn HitboxData:_FindHitbox(object)\n\tend\nend\n\nreturn RaycastHitbox",
  "SourceAssetId": 7034457254,
  "Tags": [],
  "UniqueId": "<FAILED: Unsupported variant type: Discriminant(35) (property: UniqueId, class: ModuleScript, instance: RaycastHitboxV4)>"
}