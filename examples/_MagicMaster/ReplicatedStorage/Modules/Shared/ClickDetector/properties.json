{
  "Attributes": {},
  "Capabilities": "<FAILED: Unsupported variant type: Discriminant(37) (property: Capabilities, class: ModuleScript, instance: ClickDetector)>",
  "HistoryId": "<FAILED: Unsupported variant type: Discriminant(35) (property: HistoryId, class: ModuleScript, instance: ClickDetector)>",
  "LinkedSource": "<FAILED: Unsupported variant type: Discriminant(8) (property: LinkedSource, class: ModuleScript, instance: ClickDetector)>",
  "Sandboxed": false,
  "ScriptGuid": "{B5D77F59-F4CA-453D-896F-EC8775ACD7B3}",
  "Source": "--[=[\n\t\n\tExample usage:\n\t\nlocal ClickDetector = require(script.ClickDetector)\n\nlocal Part = ClickDetector.new(workspace:WaitForChild(\"Part\"))\n\tPart.MaxActivationDistance = 15\n\tPart.CursorIcon = \"http://www.roblox.com/asset/?id=4317746479\"\n\n\tPart.MouseEnter:Connect(function()\n\t\tprint(\"Entered part\")\n\tend)\n\tPart.MouseLeave:Connect(function()\n\t\tprint(\"Left part\")\n\tend)\n\t\n\tPart.MouseButton1Down:Connect(function()\n\t\tprint(\"Clicked part\")\n\tend)\n\t\n\t\n--]=]\n\n\nlocal ClickDetector = {}\n\n\nlocal UIS = game:GetService(\"UserInputService\")\n\nlocal BINDABLE = Instance.new(\"BindableEvent\")\n\nlocal Cam = workspace.CurrentCamera\nlocal Plr = game.Players.LocalPlayer\nlocal Mouse = Plr:GetMouse()\nlocal Char = Plr.Character or Plr.CharacterAdded:Wait()\nlocal HRP = Char:WaitForChild(\"HumanoidRootPart\")\n\n\n\nlocal ActiveDetectors,CurrentHover,last_t,last_i = {},nil,nil,Mouse.Icon\n\nCam:GetPropertyChangedSignal(\"CFrame\"):Connect(function()\n\n\tlocal h = ActiveDetectors[last_t]\n\n\tif h then\n\t\tif (HRP.Position - h._Internal.Adornee.Position).Magnitude <=h.MaxActivationDistance and h.Enabled then\n\t\t\t--Within distance\n\t\t\tif not h.Hovering then\n\t\t\t\t-- not yet set to hover, do it\n\t\t\t\trawset(h, \"Hovering\", true)\n\t\t\t\th._Internal.EnterEvent:Fire()\n\n\t\t\t\tMouse.Icon = h.CursorIcon or \"\"\n\n\t\t\t\tCurrentHover = h\n\t\t\tend\n\t\telse\n\t\t\t-- Far away\n\t\t\tif h.Hovering then\n\t\t\t\t-- set to hover, undo\n\t\t\t\trawset(h, \"Hovering\", false)\n\t\t\t\th._Internal.LeaveEvent:Fire()\n\n\t\t\t\tMouse.Icon = \"\"\n\n\t\t\t\tif CurrentHover == h then\n\t\t\t\t\tCurrentHover = nil\n\t\t\t\tend\n\t\t\tend\n\t\tend\n\tend\n\nend)\n\nUIS.InputChanged:Connect(function(Input)\n\tif Input.UserInputType == Enum.UserInputType.MouseMovement then\n\n\t\t-- Handle hover detection\n\t\tlocal t = Mouse.Target\n\n\t\tif t ~= last_t then last_t = t\n\t\t\tlocal h = ActiveDetectors[t]\n\n\t\t\t-- Leave old\n\t\t\tif CurrentHover and CurrentHover._Internal.Adornee ~= t then\n\t\t\t\trawset(CurrentHover, \"Hovering\", false)\n\t\t\t\tCurrentHover._Internal.LeaveEvent:Fire()\n\n\t\t\t\tMouse.Icon = \"\"\n\t\t\tend\n\n\t\t\t-- Enter new\n\t\t\tif h and (HRP.Position - h._Internal.Adornee.Position).Magnitude <=h.MaxActivationDistance and h.Enabled then\n\t\t\t\trawset(h, \"Hovering\", true)\n\t\t\t\th._Internal.EnterEvent:Fire()\n\n\t\t\t\tMouse.Icon = h.CursorIcon or \"\"\n\n\t\t\t\tCurrentHover = h\n\t\t\telse\n\t\t\t\tCurrentHover =  nil\n\t\t\tend\n\t\tend\n\n\tend\nend)\nUIS.InputBegan:Connect(function(Input,GP)\n\n\tif not CurrentHover then return end\n\n\tif Input.UserInputType == Enum.UserInputType.MouseButton1 then\n\n\t\tCurrentHover._Internal.Button1DownEvent:Fire()\n\n\telseif Input.UserInputType == Enum.UserInputType.MouseButton2 then\n\n\t\tCurrentHover._Internal.Button2DownEvent:Fire()\n\n\tend\nend)\nUIS.InputEnded:Connect(function(Input,GP)\n\n\tif not CurrentHover then return end\n\n\tif Input.UserInputType == Enum.UserInputType.MouseButton1 then\n\t\tCurrentHover._Internal.Button1UpEvent:Fire()\n\telseif Input.UserInputType == Enum.UserInputType.MouseButton2 then\n\t\tCurrentHover._Internal.Button2UpEvent:Fire()\n\tend\nend)\n\n\nfunction ClickDetector.new(BasePart)\n\n\t--Type check\n\tif typeof(BasePart)~=\"Instance\" or not BasePart:IsA(\"BasePart\") then\n\t\terror(\"Invalid BasePart for click detection \"..BasePart,2)\n\tend\n\n\tlocal EnterEvent = BINDABLE:Clone()\n\tlocal LeaveEvent = BINDABLE:Clone()\n\n\tlocal Button1DownEvent = BINDABLE:Clone()\n\tlocal Button2DownEvent = BINDABLE:Clone()\n\n\tlocal Button1UpEvent = BINDABLE:Clone()\n\tlocal Button2UpEvent = BINDABLE:Clone()\n\n\tlocal Detector = {\n\n\t\tEnabled\t\t= true;\n\t\tMaxActivationDistance = 32;\n\t\tCursorIcon\t= \"\";\n\n\t\tHovering\t= false;\n\n\n\t\tMouseEnter\t= EnterEvent.Event;\n\t\tMouseLeave\t= LeaveEvent.Event;\n\n\t\tMouseButton1Down\t= Button1DownEvent.Event;\n\t\tMouseButton2Down\t= Button2DownEvent.Event;\n\n\t\tMouseButton1Up\t= Button1UpEvent.Event;\n\t\tMouseButton2Up\t= Button2UpEvent.Event;\n\n\n\n\t\t_Internal\t= {\n\t\t\tEnterEvent = EnterEvent;\n\t\t\tLeaveEvent = LeaveEvent;\n\n\t\t\tButton1DownEvent\t= Button1DownEvent;\n\t\t\tButton2DownEvent\t= Button2DownEvent;\n\n\t\t\tButton1UpEvent\t= Button1UpEvent;\n\t\t\tButton2UpEvent\t= Button2UpEvent;\n\n\t\t\tAdornee\t\t= BasePart;\n\t\t};\n\n\t}\n\n\tfunction Detector:Destroy()\n\n\t\tActiveDetectors[self._Internal.Adornee] = nil\n\n\t\tEnterEvent:Destroy()\n\t\tLeaveEvent:Destroy()\n\n\t\tButton1UpEvent:Destroy()\n\t\tButton2UpEvent:Destroy()\n\n\t\tif self.Hovering then\n\t\t\tMouse.Icon = \"\"\n\t\tend\n\n\t\tself._Internal.Adornee = nil\n\tend\n\n\t-- Catch inputs\n\tActiveDetectors[BasePart] = Detector\n\n\treturn Detector\nend\n\nreturn ClickDetector",
  "SourceAssetId": -1,
  "Tags": [],
  "UniqueId": "<FAILED: Unsupported variant type: Discriminant(35) (property: UniqueId, class: ModuleScript, instance: ClickDetector)>"
}