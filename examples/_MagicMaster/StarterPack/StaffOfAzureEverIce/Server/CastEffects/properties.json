{
  "Attributes": {},
  "Capabilities": "<FAILED: Unsupported variant type: Discriminant(37) (property: Capabilities, class: LocalScript, instance: CastEffects)>",
  "Disabled": true,
  "HistoryId": "<FAILED: Unsupported variant type: Discriminant(35) (property: HistoryId, class: LocalScript, instance: CastEffects)>",
  "LinkedSource": "<FAILED: Unsupported variant type: Discriminant(8) (property: LinkedSource, class: LocalScript, instance: CastEffects)>",
  "RunContext": "Enum { value: 0 }",
  "Sandboxed": false,
  "ScriptGuid": "{FA5392B2-F3F3-4530-B1EA-7E7D59CA3DBD}",
  "Source": "--Used for casting effects to the client\n\n--[['Character_Circle': the spell circle placed under the user\n\n'Cast_Circle': the spell circle placed at the aimed location]]\nlocal Casting = true\n\nlocal FindFirstChild, FindFirstChildOfClass, WaitForChild = script.FindFirstChild, script.FindFirstChildOfClass, script.WaitForChild\n\nlocal Clone, Destroy = script.Clone, script.Destroy\n\nlocal Cframe, Angles = CFrame.new, CFrame.Angles\n\nlocal Vec3 = Vector3.new\n\nlocal Instant = Instance.new\n\nlocal ToolRef = WaitForChild(script,\"ToolRef\").Value\n\nlocal Character_Center, Cast_Circle_Position = WaitForChild(script,\"Character_Center\").Value, WaitForChild(script,\"Cast_Circle_Position\").Value\n\nlocal Character_Circle_Size, Cast_Circle_Size = WaitForChild(script,\"Character_Circle_Size\").Value, WaitForChild(script,\"Cast_Circle_Size\").Value\n\nlocal Speed = WaitForChild(script,\"Speed\").Value\n\nlocal Deletables = {}\n\nlocal Services = {\n\t--Players = (game:FindService(\"Players\") or game:GetService(\"Players\")),\n\tRunService = (game:FindService(\"RunService\") or game:GetService(\"RunService\")),\n\tDebris = (game:FindService(\"Debris\") or game:GetService(\"Debris\")),\n\tTweenService = (game:FindService(\"TweenService\") or game:GetService(\"TweenService\")),\n\tSoundService = (game:FindService(\"SoundService\") or game:GetService(\"SoundService\"))\n}\n\nfunction Weld(A,B)\n\tlocal Weld = Instance.new(\"ManualWeld\")\n\t\tWeld.Part0 = A\n\t\t--Name = \"StabilizerWeld\",\n\t\tWeld.Part1 = B\n\t\tWeld.C0 = A.CFrame:Inverse() * B.CFrame\n\t\tWeld.Parent = A\n\treturn Weld\nend\n\n\nfunction PlaySound(Sound,SpecifiedLocation, Pitch, EmitterSize)\n\tpcall(function()\n\t\tlocal SoundClone = Clone(Sound)\n\t\tSoundClone.Pitch = Pitch or SoundClone.Pitch\n\t\tSoundClone.EmitterSize = EmitterSize or SoundClone.EmitterSize\n\t\tServices.Debris:AddItem(SoundClone, SoundClone.TimeLength)\n\t\tSoundClone.Parent = SpecifiedLocation\n\t\tServices.SoundService:PlayLocalSound(SoundClone)\n\tend)\nend\n\n-- Bug fix :/\n\nif not ToolRef:FindFirstChild(\"Handle\")  or not ToolRef:FindFirstChild(\"Handle\").Parent then\n\tif script.Parent:IsA(\"ScreenGui\") then\n\t\tscript.Parent:Destroy()\n\tend\n\tscript:Destroy()\n\treturn\nend\n\nlocal HandleClone = ToolRef.Handle:Clone()\nServices.Debris:AddItem(HandleClone,(7/Speed)+1)\nHandleClone.CFrame = ToolRef.Handle.CFrame\nHandleClone.Transparency = 0\nHandleClone.Massless = true\nHandleClone.Parent = workspace\nServices.Debris:AddItem(HandleClone, 30)\n\t\nWeld(HandleClone,ToolRef.Handle)\ncoroutine.wrap(function()\n\t\n\tpcall(function()\n\t\tpcall(function()\n\t\t\tPlaySound(HandleClone.Startup, HandleClone)\n\t\tend)\n\t\tlocal C_T = 0\n\t\t\n\t\tlocal FireAura = HandleClone.FireAura\n\t\t\n\t\tlocal Trail, Trail2 = HandleClone.Trail, HandleClone.Trail2\n\t\t\n\t\tlocal Tip = HandleClone.Tip\n\t\t\n\t\tlocal Fire, FireSplash = Tip.Fire, Tip.FireSplash\n\t\t\n\t\tlocal FlashCircle, StarFlash = Tip.FlashCircle, Tip.StarFlash\n\t\t\n\t\twait(0.5)\n\t\tFireAura.Enabled = true\n\t\twait(0.5)\n\t\tFireSplash:Emit(50)\n\t\tFire.Enabled = true\n\t\tpcall(function()\n\t\t\tPlaySound(HandleClone.FireSpark, HandleClone)\n\t\tend)\n\t\twait(0.5)\n\t\tTrail.Enabled = true\n\t\tTrail2.Enabled = true\n\t\tpcall(function()\n\t\t\tPlaySound(HandleClone.Twirl, HandleClone)\n\t\tend)\n\t\t\n\t\twait(1.25)\n\t\tpcall(function()\n\t\t\tPlaySound(HandleClone.Glare, HandleClone)\n\t\tend)\n\t\tTrail.Enabled = false\n\t\tTrail2.Enabled = false\n\t\tFlashCircle:Emit(1)\n\t\tStarFlash:Emit(1)\n\t\tFire.Enabled = false\n\t\tFireAura.Enabled = false\n\tend)\nend)()\n\ncoroutine.wrap(function()\n\tToolRef.Handle.Transparency = 1\n\n\tlocal C_T, Duration = 0, 7/Speed\n\tlocal Mesh = FindFirstChildOfClass(HandleClone,\"SpecialMesh\")\n\twhile C_T < Duration and Mesh do\n\t\tMesh.VertexColor = Vec3(1,1,1):Lerp(Vec3(10,10,1),C_T/4)\n\t\tC_T = C_T + Services.RunService.RenderStepped:Wait()\n\tend\n\t\nend)()\n\nlocal Spell_Circle_Part = Instant(\"Part\")\nDeletables[#Deletables+1] = Spell_Circle_Part\nSpell_Circle_Part.Locked = true\nSpell_Circle_Part.Anchored = true\nSpell_Circle_Part.CanCollide = false\nSpell_Circle_Part.CastShadow = false\nSpell_Circle_Part.Name = \"Spell_Circle\"\nSpell_Circle_Part.Massless = true\nSpell_Circle_Part.Color = Color3.fromRGB(4, 175, 236)\nSpell_Circle_Part.Transparency = 1\n\nlocal Light = Instant(\"PointLight\")\nLight.Color = Color3.fromRGB(4, 175, 236)\nLight.Range = 0\nLight.Name = \"Light\"\nLight.Brightness = 1.5\nLight.Shadows = true\nLight.Enabled = true\nLight.Parent = Spell_Circle_Part\n\n\nlocal Spell_Circle_UI = Clone(WaitForChild(script,\"SpellCircle\"))\n\nSpell_Circle_UI.Name = \"Top\"\nSpell_Circle_UI.Circle.ImageColor3 = Color3.fromRGB(255,255,255)\nSpell_Circle_UI.Face = Enum.NormalId.Top\nSpell_Circle_UI.Parent = Spell_Circle_Part\n\nSpell_Circle_UI = Clone(Spell_Circle_UI)\nSpell_Circle_UI.Name = \"Bottom\"\nSpell_Circle_UI.Face = Enum.NormalId.Bottom\nSpell_Circle_UI.Parent = Spell_Circle_Part\n\nServices.Debris:AddItem(Spell_Circle_UI, 30)\n\n\nlocal Character_Circle = Clone(Spell_Circle_Part)\nServices.Debris:AddItem(Character_Circle, 30)\nDeletables[#Deletables+1] = Character_Circle\nCharacter_Circle.Size = Character_Circle_Size\n\nlocal info, colorinfo = TweenInfo.new(.5,Enum.EasingStyle.Sine,Enum.EasingDirection.Out,0,false,0), TweenInfo.new(7/Speed,Enum.EasingStyle.Sine,Enum.EasingDirection.Out,0,false,0)\n\nlocal FadeIn, FadeOut = {ImageTransparency = 0}, {ImageTransparency = 1}\n\nlocal ColorFade, ColorLightFade = {ImageColor3 = Color3.fromRGB(4, 175, 236)},{Color = Color3.fromRGB(4, 175, 236)}\n\nlocal SizeIn, SizeOut = {Size = Vector3.new(1,0,1) * Character_Circle_Size}, {Size = Vector3.new(0,0,0)}\n\nlocal LightIn, LightOut = {Range = 0, Enabled = true}, {Range = 0, Enabled = false}\n\n\ncoroutine.wrap(function()\n\tCharacter_Circle.Size = Vector3.new(0,0,0)\n\tCharacter_Circle.Top.Circle.ImageTransparency = 1\n\tCharacter_Circle.Bottom.Circle.ImageTransparency = 1\n\tCharacter_Circle.CFrame = Character_Center.CFrame * CFrame.new(0,-Character_Center.Size.Y * 1.5,0)\n\tServices.TweenService:Create(Character_Circle.Top.Circle,colorinfo,ColorFade):Play()\n\tServices.TweenService:Create(Character_Circle.Bottom.Circle,colorinfo,ColorFade):Play()\n\tServices.TweenService:Create(Character_Circle.Light,colorinfo,ColorLightFade):Play()\n\tServices.TweenService:Create(Character_Circle.Top.Circle,info,FadeIn):Play()\n\tLightIn.Range = 20\n\tServices.TweenService:Create(Character_Circle.Light,info,LightIn):Play()\n\tServices.TweenService:Create(Character_Circle.Bottom.Circle,info,FadeIn):Play()\n\tServices.TweenService:Create(Character_Circle,info,SizeIn):Play()\n\n\tCharacter_Circle.Parent = workspace\n\tpcall(function()\n\t\tPlaySound(HandleClone.Circle_Cast, Character_Circle)\n\tend)\nend)()\n\ncoroutine.wrap(function()\n\tlocal Angle = 0\n\twhile Character_Circle and Character_Circle.Parent do\n\t\tlocal delta = Services.RunService.RenderStepped:Wait()\n\t\tCharacter_Circle.CFrame = Character_Center.CFrame * Cframe(0,-Character_Center.Size.Y * 1.5,0) * Angles(0,Angle,0)\n\t\tAngle = Angle + (math.rad(90) * delta)\n\t\tAngle = Angle > math.rad(360) and 0 or Angle + delta\n\tend\nend)()\n\ncoroutine.wrap(function()\n\tlocal Block_Debris = Instance.new(\"Part\")\n\tBlock_Debris.Locked = true\n\tBlock_Debris.CanCollide = false\n\tBlock_Debris.Anchored = false\n\tBlock_Debris.Massless = true\n\tBlock_Debris.CastShadow = true\n\tBlock_Debris.TopSurface = Enum.SurfaceType.Smooth\n\tBlock_Debris.BottomSurface = Enum.SurfaceType.Smooth\n\tBlock_Debris.Name = \"Rising_Debris\"\n\t\t\n\tlocal Seed = Random.new(tick())\n\t\n\tlocal FindPartOnRay = workspace.FindPartOnRayWithIgnoreList\n\t\n\tlocal BodyForce = Instance.new(\"BodyForce\")\n\tBodyForce.Name = \"Debris_Float\"\n\tBodyForce.Parent = Block_Debris\n\t\n\t--workspace:FindPartOnRayWithIgnoreList(,Deletables,false,false)\n\t\n\tlocal Down = Vector3.new(0,-1,0)\n\t\n\tlocal NewRay = Ray.new\n\t\n\twhile Character_Circle and Character_Circle.Parent and Casting and Character_Center do\n\t\tlocal Floating_Debris = Clone(Block_Debris)\n\t\tFloating_Debris.Size = Vec3(Seed:NextNumber(.5,4),Seed:NextNumber(.5,4),Seed:NextNumber(.5,4))\n\t\tFloating_Debris.RotVelocity = Vec3(Seed:NextNumber(-5,5),Seed:NextNumber(-5,5),Seed:NextNumber(-5,5))\n\t\tServices.Debris:AddItem(Floating_Debris,5)\n\t\t\n\t\tlocal cframe = (Character_Circle.CFrame * Angles(0,math.rad(Seed:NextNumber(1,360)),0)) * Cframe(0,0, Seed:NextNumber(math.max(Character_Center.Size.X,Character_Center.Size.Y,Character_Center.Size.Z),Character_Circle.Size.Z*2) )\n\t\t\n\t\tlocal hit = FindPartOnRay(workspace,NewRay(cframe.Position + Vec3(0,5,0), Character_Center.CFrame.UpVector*-10),Deletables,false,false)\n\t\t--print(hit)\n\t\tFloating_Debris.Color = (hit and hit.Color) or Color3.fromRGB(255,170,0)\n\t\tFloating_Debris.Material = (hit and hit.Material) or Enum.Material.Granite\n\t\t\n\t\tFloating_Debris.CFrame = cframe\n\t\tFloating_Debris.Debris_Float.Force = Vec3(0,Floating_Debris:GetMass() * workspace.Gravity,0)\n\t\tFloating_Debris.Velocity = Vec3(0,Seed:NextNumber(10,25),0)\n\t\tFloating_Debris.Parent = workspace\n\t\twait(.25)\n\tend\nend)()\n\n\nlocal Cast_Circle = Clone(Spell_Circle_Part)\nServices.Debris:AddItem(Cast_Circle, 30)\nDeletables[#Deletables+1] = Cast_Circle\nCast_Circle.Size = Cast_Circle_Size\nCast_Circle.CFrame = Cast_Circle_Position\nCast_Circle.Parent = workspace\ncoroutine.wrap(function()\n\tpcall(function()\n\t\tCast_Circle.Size = Vector3.new(0,0,0)\n\t\tCast_Circle.Top.Circle.ImageTransparency = 1\n\t\tCast_Circle.Bottom.Circle.ImageTransparency = 1\n\t\tCast_Circle.CFrame = Cast_Circle_Position\n\t\tServices.TweenService:Create(Cast_Circle.Top.Circle,colorinfo,ColorFade):Play()\n\t\tServices.TweenService:Create(Cast_Circle.Light,colorinfo,ColorLightFade):Play()\n\t\tServices.TweenService:Create(Cast_Circle.Bottom.Circle,colorinfo,ColorFade):Play()\n\t\tServices.TweenService:Create(Cast_Circle.Top.Circle,info,FadeIn):Play()\n\t\tLightIn.Range = 150\n\t\tServices.TweenService:Create(Cast_Circle.Light,info,LightIn):Play()\n\t\tServices.TweenService:Create(Cast_Circle.Bottom.Circle,info,FadeIn):Play()\n\t\tSizeIn.Size = Cast_Circle_Size\n\t\tServices.TweenService:Create(Cast_Circle,info,SizeIn):Play()\n\t\n\t\tCharacter_Circle.Parent = workspace\n\t\t\n\tend)\nend)()\n\ncoroutine.wrap(function()\n\twhile Cast_Circle and Cast_Circle.Parent do\n\t\tlocal delta = Services.RunService.RenderStepped:Wait()\n\t\tCast_Circle.CFrame = Cast_Circle.CFrame * Angles(0,math.rad(90) * delta,0)\n\tend\nend)()\n\nlocal Circles = {}\nlocal Size = Cast_Circle_Size.X\nlocal Sizes = {Size,Size*.2,Size*.4,Size*.5,Size*.6,Size*.8,Size*.7,Size*.4,Size*.6}\ncoroutine.wrap(function() --Summon the large hovering spell circles\n\tpcall(function()\t\n\t\tfor i=0, #Sizes-1, 1 do\n\t\t\tif Casting then\n\t\t\t\tlocal CircleClone = Clone(Spell_Circle_Part)\n\t\t\t\tServices.Debris:AddItem(CircleClone, 30)\n\t\t\t\tCircles[#Circles+1] = CircleClone\n\t\t\t\tDeletables[#Deletables+1] = CircleClone\n\t\t\t\tCircleClone.CFrame = Cast_Circle_Position * Cframe(0,150 - (15 * i),0)\n\t\t\t\t--print((Sizes[i+1] or 100))\n\t\t\t\t--CircleClone.Size = Vector3.new(1,0,1) * (Sizes[i+1] or 100)\n\t\t\t\tlocal Sparks = Clone(script.Sparks)\n\t\t\t\tSparks.Parent = CircleClone\n\t\t\t\t\n\t\t\t\tCircleClone.Top.Circle.ImageTransparency = 1\n\t\t\t\tCircleClone.Bottom.Circle.ImageTransparency = 1\n\t\t\t\tpcall(function()\n\t\t\t\t\tServices.TweenService:Create(CircleClone.Top.Circle,colorinfo,ColorFade):Play()\n\t\t\t\t\tServices.TweenService:Create(CircleClone.Light,colorinfo,ColorLightFade):Play()\n\t\t\t\t\tServices.TweenService:Create(CircleClone.Bottom.Circle,colorinfo,ColorFade):Play()\n\t\t\t\t\tServices.TweenService:Create(CircleClone.Top.Circle,info,FadeIn):Play()\n\t\t\t\t\tLightIn.Range = (Sizes[i+1] or 100)\n\t\t\t\t\tServices.TweenService:Create(CircleClone.Light,info,LightIn):Play()\n\t\t\t\t\tServices.TweenService:Create(CircleClone.Bottom.Circle,info,FadeIn):Play()\n\t\t\t\tend)\n\t\t\t\tSizeIn.Size = Vector3.new(1,0,1) * (Sizes[i+1] or 100)\n\t\t\t\tServices.TweenService:Create(CircleClone,info,SizeIn):Play()\n\t\t\t\tCircleClone.Parent = workspace\n\t\t\t\tpcall(function()\n\t\t\t\t\tPlaySound(HandleClone.Circle_Layer, CircleClone, 1 + (i * .025), (Sizes[i+1] or 100))\n\t\t\t\tend)\n\t\t\t\t--PlaySound(HandleClone.Circle_Layer, CircleClone)\n\t\t\t\tSparks.Enabled = true\n\t\t\t\tcoroutine.wrap(function()\n\t\t\t\t\twhile CircleClone and CircleClone.Parent do\n\t\t\t\t\t\tlocal delta = Services.RunService.RenderStepped:Wait()\n\t\t\t\t\t\tCircleClone.CFrame = CircleClone.CFrame * Angles(0,math.rad(-90) * delta,0)\n\t\t\t\t\tend\n\t\t\t\tend)()\n\t\t\t\twait(.15)\n\t\t\tend\n\t\tend\n\tend)\n\t\nend)()\n\n\nlocal Connections = {}\nfunction Clean()\n\tCasting = false\n\t\t\t\n\tif #Deletables > 0 then\n\t\tfor i=1,#Deletables,1 do\n\t\t\tif Deletables[i] and Deletables[i].Parent then\n\t\t\t\tServices.Debris:AddItem(Deletables[i],2);\n\t\t\t\tDeletables[i] = nil;\n\t\t\tend\n\t\tend\n\tend\n\t\n\tDeletables = nil\n\t\n\tif #Connections > 0 then\n\t\tfor i=1,#Connections do\n\t\t\tif Connections[i] then\n\t\t\t\tConnections[i]:Disconnect();\n\t\t\t\tConnections[i] = nil\n\t\t\tend\n\t\tend\n\tend\n\t\n\tConnections = nil\n\t\t\t\t\n\tpcall(function()\n\t\tToolRef.Handle.Transparency = 0\n\tend)\n\tif HandleClone and HandleClone.Parent then\n\t\tDestroy(HandleClone)\n\tend\n\t\n\tpcall(function()\t\t\n\t\tServices.TweenService:Create(Character_Circle.Light,info,LightOut):Play()\n\t\tServices.TweenService:Create(Character_Circle.Top.Circle,info,FadeOut):Play()\n\t\tServices.TweenService:Create(Character_Circle.Bottom.Circle,info,FadeOut):Play()\n\t\tServices.TweenService:Create(Character_Circle,info,SizeOut):Play()\n\tend)\n\t\t\n\tif #Circles > 0 then\n\t\tfor i=1,#Circles,1 do\n\t\t\tif Circles[i] then\n\t\t\t\tpcall(function()\n\t\t\t\t\tCircles[i].Sparks.Enabled = false\n\t\t\t\tend)\n\t\t\t\tpcall(function()\n\t\t\t\t\tServices.TweenService:Create(Circles[i].Light,info,LightOut):Play()\n\t\t\t\t\tServices.TweenService:Create(Circles[i].Top.Circle,info,FadeOut):Play()\n\t\t\t\t\tServices.TweenService:Create(Circles[i].Bottom.Circle,info,FadeOut):Play()\n\t\t\t\t\tServices.TweenService:Create(Circles[i],info,SizeOut):Play()\n\t\t\t\tend)\n\t\t\tend\n\t\tend\n\tend\n\tpcall(function()\t\t\n\t\tServices.TweenService:Create(Cast_Circle.Light,info,LightOut):Play()\n\t\tServices.TweenService:Create(Cast_Circle.Top.Circle,info,FadeOut):Play()\n\t\tServices.TweenService:Create(Cast_Circle.Bottom.Circle,info,FadeOut):Play()\n\t\tServices.TweenService:Create(Cast_Circle,info,SizeOut):Play()\n\tend)\nend\n\n\npcall(function()\n\tscript:WaitForChild(\"Finish\",10).Changed:Connect(function()\n\t\tif script.Finish.Value then\n\t\t\tClean()\n\t\tend\n\tend)\nend)\npcall(function()\n\tConnections[#Connections+1] = ToolRef.Unequipped:Connect(Clean)\nend)\npcall(function()\n\tConnections[#Connections+1] = ToolRef.Changed:Connect(function(Property)\n\t\t-- Deeper check if tool is deleted/unequip or something.\n\t\t-- Added by EunhaFlower\n\t\tif Property == \"Parent\" then\n\t\t\tif not ToolRef or not ToolRef.Parent then\n\t\t\t\tClean()\n\t\t\tend\n\t\tend\n\tend)\nend)\n",
  "SourceAssetId": -1,
  "Tags": [],
  "UniqueId": "<FAILED: Unsupported variant type: Discriminant(35) (property: UniqueId, class: LocalScript, instance: CastEffects)>"
}